function extractEvents(t,e){var n=topLevelTypesToAnalyticsEvent[t];if(!n||!e||!e.attributes)return null;var o=e.getAttribute(ANALYTICS_ID),a=e.getAttribute(ANALYTICS_EVENTS);if(!o||!a)return null;var l=a.split(",");return analyticsData.hasOwnProperty(o)||initAnalyticsDataForID(o,l),-1!==l.indexOf(n)&&analyticsData[o][n]++,null}function initAnalyticsDataForID(t,e){analyticsData[t]={},e.forEach(function(e){__DEV__&&invariant(analyticsEventNameToTopLevelType[e],"Invalid analyticsEvent:%s for analyticsID:%s",e,t),analyticsData[t][e]=0})}var ExecutionEnvironment=require("ExecutionEnvironment"),emptyFunction=require("emptyFunction"),invariant=require("invariant"),topLevelTypes=require("EventConstants").topLevelTypes,ANALYTICS_ID="data-analytics-id",ANALYTICS_EVENTS="data-analytics-events",DEFAULT_INTERVAL_MS=12e4,analyticsData={},topLevelTypesToAnalyticsEvent={topClick:"click",topDoubleClick:"doubleClick",wheel:"wheel",topTouchStart:"touchStart",topTouchEnd:"touchEnd",topTouchMove:"touchMove",topTouchCancel:"touchCancel",topKeyUp:"keyUp",topKeyPress:"keyPress",topKeyDown:"keyDown",topFocus:"focus",topBlur:"blur",topScroll:"scroll",topChange:"change"};if(__DEV__)var analyticsEventNameToTopLevelType={click:topLevelTypes.topClick,doubleClick:topLevelTypes.topDoubleClick,wheel:topLevelTypes.wheel,touchStart:topLevelTypes.topTouchStart,touchEnd:topLevelTypes.topTouchEnd,touchMove:topLevelTypes.topTouchMove,touchCancel:topLevelTypes.topTouchCancel,keyUp:topLevelTypes.topKeyUp,keyPress:topLevelTypes.topKeyPress,keyDown:topLevelTypes.topKeyDown,focus:topLevelTypes.topFocus,blur:topLevelTypes.topBlur,scroll:topLevelTypes.topScroll,change:topLevelTypes.topChange};var createAnalyticsPlugin=function(t,e){return invariant(ExecutionEnvironment.canUseDOM,"createAnalyticsPlugin(...): The DOM is not supported in the execution environment."),__DEV__&&invariant(t,"createAnalyticsPlugin(...): You must provide a callback."),t=t||emptyFunction,setInterval(function(){Object.keys(analyticsData).length&&t(analyticsData)},e>DEFAULT_INTERVAL_MS?e:DEFAULT_INTERVAL_MS),{extractEvents:extractEvents}},AnalyticsEventPluginFactory={createAnalyticsPlugin:createAnalyticsPlugin};module.exports=AnalyticsEventPluginFactory;
//# sourceMappingURL=AnalyticsEventPluginFactory.js.map