function stripNonWhiteParen(e){return e.replace(reNonWhiteParen,"")}function isTagName(e){return tagConvention.test(e)}function visitReactTag(e,t,n,r){var a=t.openingElement,i=a.name,s=a.attributes;if(utils.catchup(a.range[0],r,trimLeft),i.type===Syntax.XJSNamespacedName&&i.namespace)throw new Error("Namespace tags are not supported. ReactJSX is not XML.");if(utils.append("React.createElement(",r),i.type===Syntax.XJSIdentifier&&isTagName(i.name)){if(!FALLBACK_TAGS.hasOwnProperty(i.name))throw new Error("Lower case component names ("+i.name+") are no longer supported in JSX: See http://fb.me/react-jsx-lower-case");utils.append('"'+i.name+'"',r),utils.move(i.range[1],r)}else utils.move(i.range[0],r),utils.catchup(i.range[1],r);utils.append(", ",r);var u=s.length,p=s.some(function(e){return e.type===Syntax.XJSSpreadAttribute});p?utils.append("React.__spread({",r):u?utils.append("{",r):utils.append("null",r);var o=!1;s.forEach(function(t,a){var i=a===s.length-1;if(t.type===Syntax.XJSSpreadAttribute)return o||utils.append("}, ",r),utils.catchup(t.range[0],r,stripNonWhiteParen),utils.move(t.range[0]+1,r),utils.catchup(t.argument.range[0],r,stripNonWhiteParen),e(t.argument,n,r),utils.catchup(t.argument.range[1],r),utils.catchup(t.range[1]-1,r,stripNonWhiteParen),i||utils.append(", ",r),utils.move(t.range[1],r),void(o=!0);if(i||(i=s[a+1].type===Syntax.XJSSpreadAttribute),t.name.namespace)throw new Error("Namespace attributes are not supported. ReactJSX is not XML.");var u=t.name.name;utils.catchup(t.range[0],r,trimLeft),o&&utils.append("{",r),utils.append(quoteAttrName(u),r),utils.append(": ",r),t.value?(utils.move(t.name.range[1],r),utils.catchupNewlines(t.value.range[0],r),t.value.type===Syntax.Literal?renderXJSLiteral(t.value,i,r):renderXJSExpressionContainer(e,t.value,i,n,r)):(r.g.buffer+="true",r.g.position=t.name.range[1],i||utils.append(", ",r)),utils.catchup(t.range[1],r,trimLeft),o=!1}),a.selfClosing||(utils.catchup(a.range[1]-1,r,trimLeft),utils.move(a.range[1],r)),u&&!o&&utils.append("}",r),p&&utils.append(")",r);var l=t.children.filter(function(e){return!(e.type===Syntax.Literal&&"string"==typeof e.value&&e.value.match(/^[ \t]*[\r\n][ \t\r\n]*$/))});if(l.length>0){var c;l.forEach(function(e,t){(e.type!==Syntax.XJSExpressionContainer||e.expression.type!==Syntax.XJSEmptyExpression)&&(c=t)}),void 0!==c&&utils.append(", ",r),l.forEach(function(t,a){utils.catchup(t.range[0],r,trimLeft);var i=a>=c;t.type===Syntax.Literal?renderXJSLiteral(t,i,r):t.type===Syntax.XJSExpressionContainer?renderXJSExpressionContainer(e,t,i,n,r):(e(t,n,r),i||utils.append(", ",r)),utils.catchup(t.range[1],r,trimLeft)})}return a.selfClosing?(utils.catchup(a.range[1]-2,r,trimLeft),utils.move(a.range[1],r)):(utils.catchup(t.closingElement.range[0],r,trimLeft),utils.move(t.closingElement.range[1],r)),utils.append(")",r),!1}var Syntax=require("esprima-fb").Syntax,utils=require("jstransform/src/utils"),FALLBACK_TAGS=require("./xjs").knownTags,renderXJSExpressionContainer=require("./xjs").renderXJSExpressionContainer,renderXJSLiteral=require("./xjs").renderXJSLiteral,quoteAttrName=require("./xjs").quoteAttrName,trimLeft=require("./xjs").trimLeft,reNonWhiteParen=/([^\s\(\)])/g,tagConvention=/^[a-z]|\-/;visitReactTag.test=function(e){return e.type===Syntax.XJSElement},exports.visitorList=[visitReactTag];
//# sourceMappingURL=react.js.map