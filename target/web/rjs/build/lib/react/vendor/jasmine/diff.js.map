{"version":3,"file":"diff.js","sources":["diff.js.src.js"],"names":["JsDiff","clonePath","path","newPos","components","slice","removeEmpty","array","ret","i","length","push","escapeHTML","s","n","replace","fbDiff","ignoreWhitespace","this","prototype","diff","oldString","newString","value","removed","added","tokenize","newLen","oldLen","maxEditLength","bestPath","oldPos","extractCommon","editLength","diagonalPath","basePath","addPath","removePath","undefined","canAdd","canRemove","pushComponent","last","join","equals","left","right","reWhitespace","test","CharDiff","WordDiff","split","CssDiff","LineDiff","diffChars","oldStr","newStr","diffWords","diffLines","diffCss","createPatch","fileName","oldHeader","newHeader","contextLines","lines","map","entry","eofNL","curRange","current","isLast","isLastOfType","pop","oldRangeStart","newRangeStart","oldLine","newLine","prev","apply","contextSize","Math","min","applyPatch","uniDiff","diffstr","remEOFNL","addEOFNL","meh","unshift","start","oldlength","oldlines","newlength","newlines","substr","str","d","j","Array","splice","concat","convertChangesToXML","changes","change","convertChangesToDMP","module","exports"],"mappings":"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"}