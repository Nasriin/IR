function highlightDifferences(e,t){for(var i,r=diff.diffChars(e,t),o={a:"",b:""},s=0,p=r.length;p>s;s++)i=r[s],i.added?o.b+=red+i.value+reset:i.removed?o.a+=red+i.value+reset:(o.a+=i.value,o.b+=i.value);return o}function PrintReporter(e,t){this.skipCount=0,this.failCount=0,this.expectCount=0,this.specCount=0,this.name=e,this.rootDirectory=t}var jasmine=require("./jasmine"),diff=require("./diff"),red="[1;41m",reset="[0m";exports.PrintReporter=jasmine.PrintReporter=PrintReporter,PrintReporter.prototype=new jasmine.Reporter,PrintReporter.prototype.verbose=!1,PrintReporter.prototype._didSpecName=!1,PrintReporter.prototype.reportSpecStarting=function(e){this._didSpecName=!1,this._spec=e},PrintReporter.prototype.reportRunnerResults=function(){this._didSpecName=!0,this.log([this.specCount+" spec",this.expectCount+" expect",this.skipCount+" skip",this.failCount+" fail"].join("  ")),require("./phantom").exit(this.failCount)},PrintReporter.prototype.reportSuiteResults=function(e){var t=e.results();this.verbose&&this.log('Suite "'+e.description+'": '+t.passedCount+"/"+t.totalCount+" passed."),e.parentSuite||(this.failCount+=t.totalCount-t.passedCount,this.expectCount+=t.totalCount)},PrintReporter.prototype.reportSpecResults=function(e){this.verbose&&this.log("it... "+e.description+": "+(e.results().passed()?"pass":"fail"));var t=this,i=e.results();this.specCount+=1,i.skipped&&(this.skipCount+=1),i.getItems().forEach(function(e){if("log"==e.type)t.log(e.toString());else if("expect"==e.type&&e.passed&&!e.passed()){var i=jasmine.pp(e.actual),r=jasmine.pp(e.expected),o=highlightDifferences(i,r),s=e.message;s=s.replace(i,o.a),s=s.replace(r,o.b),t.log(s),e.trace.stack&&(t.log(),e.trace.stack.split("\n").forEach(function(e){e.indexOf("/jasmine/lib/jasmine-core")>-1||(this.rootDirectory&&(e=e.replace(this.rootDirectory+"/","")),t.log("  "+e))}.bind(this)))}})},PrintReporter.prototype.log=function(e){this._didSpecName||(console.log(""),console.log(this._spec.suite.description+": it "+this._spec.description),this._didSpecName=!0),console.log(e||"")};
//# sourceMappingURL=PrintReporter.js.map