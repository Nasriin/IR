"undefined"==typeof jasmine&&(jasmine=require("./jasmine"));var spec=!1;jasmine.getEnv().beforeEach(function(){this.addMatchers({toBeCalled:function(){if(void 0===this.actual.mock)throw Error("toBeCalled() should be used on a mock function");return 0!==this.actual.mock.calls.length},lastCalledWith:function(){if(void 0===this.actual.mock)throw Error("lastCalledWith() should be used on a mock function");var t=this.actual.mock.calls,e=Array.prototype.slice.call(arguments);return this.env.equals_(t[t.length-1],e)},toBeCalledWith:function(){if(void 0===this.actual.mock)throw Error("toBeCalledWith() should be used on a mock function");var t=Array.prototype.slice.call(arguments);return this.actual.mock.calls.some(function(e){return this.env.equals_(e,t)}.bind(this))}})});var _it=jasmine.Env.prototype.it,_xit=jasmine.Env.prototype.xit;if(jasmine.Env.prototype.it=function(t,e){return!spec||t.match(new RegExp(spec,"i"))?_it.call(this,t,e):this.xit(t,e)},jasmine.Env.prototype.xit=function(t,e){if("function"==typeof e){var n=e.toString().match(/.*\W?expect\(/g);n&&(this.reporter.subReporters_[0].skipCount+=n.length,this.reporter.subReporters_[0].totalCount+=n.length)}return _xit.call(this,t,e)},"undefined"!=typeof WeakMap){var _comparedObjects=new WeakMap;jasmine.Env.prototype.compareObjects_=function(t,e,n,i){if(_comparedObjects.get(t)===e&&_comparedObjects.get(e)===t)return!0;var a=jasmine.isArray_(t)&&jasmine.isArray_(e);_comparedObjects.set(t,e),_comparedObjects.set(e,t);var o=function(t,e){return null!=t&&t[e]!==jasmine.undefined};for(var r in e)a&&"function"==typeof e[r]||!o(t,r)&&o(e,r)&&n.push("expected has key '"+r+"', but missing from actual.");for(r in t)a&&"function"==typeof t[r]||!o(e,r)&&o(t,r)&&n.push("expected missing key '"+r+"', but present in actual.");for(r in e)(!a||"function"!=typeof t[r]&&"function"!=typeof e[r])&&(this.equals_(t[r],e[r],n,i)||i.push("'"+r+"' was '"+(e[r]?jasmine.util.htmlEscape(e[r].toString()):e[r])+"' in expected, but was '"+(t[r]?jasmine.util.htmlEscape(t[r].toString()):t[r])+"' in actual."));return a&&t.length!=e.length&&i.push("arrays were not the same length"),_comparedObjects["delete"](t),_comparedObjects["delete"](e),0==n.length&&0==i.length}}
//# sourceMappingURL=jasmine-support.js.map